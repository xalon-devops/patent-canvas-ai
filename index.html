<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <!-- Primary Meta Tags -->
    <title>PatentBot AI™ - AI-Powered Patent Application Generator | File Patents in Minutes</title>
    <meta name="title" content="PatentBot AI™ - AI-Powered Patent Application Generator" />
    <meta name="description" content="File patent applications in minutes with PatentBot AI™. AI-guided drafting, prior art search, and USPTO-ready formatting. $1,000 flat fee. Start protecting your innovation today." />
    <meta name="keywords" content="patent application, AI patent generator, USPTO filing, patent search, patent drafting, intellectual property, patent protection" />
    <meta name="author" content="PatentBot AI" />
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" />
    <meta name="googlebot" content="index, follow" />
    <meta name="theme-color" content="#1a1f2e" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <link rel="canonical" id="canonical-url" href="https://patentbot-ai.lovable.app/" />
    
    <!-- Favicon - Local files for reliability -->
    <link rel="icon" href="/favicon.png" type="image/png">
    <link rel="shortcut icon" href="/favicon.png" type="image/png">
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/favicon.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/favicon.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/favicon.png">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" id="og-url" content="https://patentbot-ai.lovable.app/" />
    <meta property="og:title" content="PatentBot AI™ - AI-Powered Patent Application Generator" />
    <meta property="og:description" content="File patent applications in minutes with AI-guided drafting, prior art search, and USPTO-ready formatting. $1,000 flat fee." />
    <meta property="og:image" id="og-image" content="https://patentbot-ai.lovable.app/social-preview.png" />
    <meta property="og:image:secure_url" id="og-image-secure" content="https://patentbot-ai.lovable.app/social-preview.png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:type" content="image/png" />
    <meta property="og:site_name" content="PatentBot AI" />
    <meta property="og:locale" content="en_US" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" id="twitter-url" content="https://patentbot-ai.lovable.app/" />
    <meta name="twitter:title" content="PatentBot AI™ - AI-Powered Patent Application Generator" />
    <meta name="twitter:description" content="File patent applications in minutes with AI-guided drafting, prior art search, and USPTO-ready formatting. $1,000 flat fee." />
    <meta name="twitter:image" id="twitter-image" content="https://patentbot-ai.lovable.app/social-preview.png" />
    <meta name="twitter:site" content="@patentbot_ai" />
    <meta name="twitter:creator" content="@patentbot_ai" />

    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "PatentBot AI",
      "applicationCategory": "BusinessApplication",
      "operatingSystem": "Web",
      "offers": [
        {
          "@type": "Offer",
          "price": "1000",
          "priceCurrency": "USD",
          "description": "Patent Application Filing - Complete AI-guided patent application with USPTO-ready formatting"
        },
        {
          "@type": "Offer",
          "price": "9.99",
          "priceCurrency": "USD",
          "description": "Check & See Subscription - Unlimited prior patent searches"
        }
      ],
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.9",
        "reviewCount": "127"
      },
      "description": "AI-powered patent application generator. File patents in minutes with AI-guided drafting, prior art search, and USPTO-ready formatting.",
      "url": "https://patentbot-ai.lovable.app/",
      "logo": "/logo.png",
      "image": "/social-preview.png",
      "provider": {
        "@type": "Organization",
        "name": "PatentBot AI",
        "url": "https://patentbot-ai.lovable.app/"
      }
    }
    </script>

    <!-- Dynamic URL Update Script -->
    <script>
      (function() {
        const baseUrl = window.location.origin;
        const currentPath = window.location.pathname;
        const fullUrl = baseUrl + currentPath;
        
        // Update canonical URL
        const canonical = document.getElementById('canonical-url');
        if (canonical) canonical.href = fullUrl;
        
        // Update Open Graph URLs
        const ogUrl = document.getElementById('og-url');
        if (ogUrl) ogUrl.content = fullUrl;
        
        const ogImage = document.getElementById('og-image');
        if (ogImage) ogImage.content = baseUrl + '/social-preview.png';
        
        const ogImageSecure = document.getElementById('og-image-secure');
        if (ogImageSecure) ogImageSecure.content = baseUrl + '/social-preview.png';
        
        // Update Twitter URLs
        const twitterUrl = document.getElementById('twitter-url');
        if (twitterUrl) twitterUrl.content = fullUrl;
        
        const twitterImage = document.getElementById('twitter-image');
        if (twitterImage) twitterImage.content = baseUrl + '/social-preview.png';
      })();
    </script>

    <!-- ✅ NEXUS Universal Tracking Script -->
    <script>
    (function() {
      const ENDPOINT = "https://nfhocvpfbzrvqlscvqec.supabase.co/functions/v1/track-visit";

      const params = new URLSearchParams(window.location.search);
      const referral_code = params.get("ref");
      const offer_id = params.get("offer_id");

      let cid = localStorage.getItem("nexus_cid");
      if (!cid) {
        cid = "cid_" + Math.random().toString(36).substring(2) + "_" + Date.now();
        localStorage.setItem("nexus_cid", cid);
      }

      if (referral_code && offer_id) {
        fetch(ENDPOINT, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            cid,
            referral_code,
            offer_id,
            url: window.location.href,
            timestamp: new Date().toISOString()
          })
        }).then(res => {
          if (!res.ok) {
            console.error("❌ NEXUS tracking failed:", res.statusText);
          } else {
            console.log("✅ NEXUS click tracked");
          }
        }).catch(console.error);
      }
    })();
    </script>
  </head>

  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
